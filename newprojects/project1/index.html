
<html>
<head>
<title>City Finder</title>
<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
<script>

$(document).ready(function() {
$( "#cityfield" ).keyup(function() {
	$( "#cityfield" ).keyup(function() {
var url = "https://students.cs.byu.edu/~clement/CS360/ajax/getcity.cgi?q="+$("#cityfield").val();
$.getJSON(url,function(data) {	
var everything;
	  everything = "<ul>";
  	$.each(data, function(i,item) {
    	everything += "<li> "+item.city;
  	});
    
  everything += "</ul>";
  $("#txtHint").html(everything);  
});  	
$("#txtHint").text("Keyup "+$("#cityfield").val());
});

});

$("#button").click(function(e){
  var value = $("#cityfield").val();
 $("#dispcity").text(value);  
e.preventDefault();
  var myurl= "https://api.wunderground.com/api/8dd83bc10d0724b3/geolookup/conditions/q/UT/";
  myurl += value;
  myurl += ".json";
//  console.log(myurl);
  $.ajax({
    url : myurl,
    dataType : "jsonp",
    success : function(data) {
  /*      console.log(data);
   	console.log(data['location']['city'])
	console.log(data['current_observation']['temp_f'])
	console.log(data['current_observation']['weather'])*/
	var weatherString = '<ul><li>Location: '+data['location']['city']+'</li>'
	weatherString +=  '<li>Temperature: '+data['current_observation']['temp_f']+'</li>'
	weatherString += '<li>Weather: '+data['current_observation']['weather']+'</li>'
	$('#weather').html(weatherString)
	 }
  });

});


});

</script>
</head>
<body>
<form>
Enter A Utah City: <input type="text" id="cityfield" value=""><br>
Suggestion: <span id="txtHint">Empty</span>
<input id="button" type="submit" value="Submit">
</form>
<p>City</p>
<textarea id="dispcity">No City</textarea>
<p>Current Weather</p>
<div id="weather">No weather</div>

</body>
</html>
